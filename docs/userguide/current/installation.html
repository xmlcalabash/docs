<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script><title>Chapter 1. Installation</title><link href="./css/pygments.css" rel="stylesheet"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link href="https://purl.org/dc/elements/1.1/" rel="schema.dc"/><meta name="dc.modified" content="2024-11-03T15:26:43Z"/><meta name="generator" content="DocBook xslTNG version 2.4.1 / 5e956019 / SAXON HE 12.5"/><link href="./css/docbook-toc.css" rel="stylesheet"/><link href="./css/docbook.css" rel="stylesheet" media="screen"/><link href="img/icon.png" rel="shortcut icon"/><link href="./css/xmlcalabash.css" rel="stylesheet"/><link href="./css/xproc.css" rel="stylesheet"/><link rel="prev" href="preface.html"/><link rel="next" href="running.html"/><link rel="up" href="index.html"/><link rel="home" href="index.html"/><script src="./js/persistent-toc.js" defer="defer"></script><script src="./js/copy-verbatim.js" defer="defer"></script><script src="./js/chunk-nav.js" defer="defer"></script></head><body class="chapter component"><nav class="top"><div><a href="index.html">Home</a> <a href="index.html">Up</a> <a href="running.html">Next</a> <a href="preface.html">Prev</a></div></nav><main><section id="installation" db-chunk="installation.html" db-id="d107e27" class="chapter component"><header><h2>Chapter <span class="label">1</span><span class="sep">. </span>Installation</h2></header><div class="db-bfs"><p>XML Calabash version 3beta.0.0 is still very much a beta
release. While it’s still in beta, it’s not being published anywhere except on
the
<a href="https://github.com/xmlcalabash/xmlcalabash3/releases" class="link">releases
page</a>. That release is the command line application. In the future,
library releases will be published as well.
</p><p>Download the latest release and unzip it on your filesystem. That will
create a <code class="directory filename">xmlcalabash-3beta.0.0/</code>
directory containing: <code class="filename">README.md</code>, 
<code class="filename">xmlcalabash-app-3beta.0.0.jar</code>, and
a <code class="directory filename">lib/</code> directory containing
<em>lots</em> of jar files. The application ships with all of the dependencies
nesssary to run all of the steps, including the extension steps.
</p></div><section id="system-configuration" class="section"><header><h2>System configuration</h2></header><p>All
<a href="https://en.wikipedia.org/wiki/Java_virtual_machine" class="link">JVM</a>
applications are sensitive to some aspects of your system configuration. For
example, what version of the Java Virtual Machine you’re using and if you need
to <a href="cc-proxy.html" class="link">use a proxy</a> to connect to the
internet.</p><section id="content-types" class="section"><header><h3>MIME Types</h3></header><p>An XProc processor is especially sensitive to the way MIME types are
configured. An XProc pipeline can process resources of any type: XML, JSON, ZIP,
etc. The content type of a resource accessed through HTTP (or HTTPS) is always
identified by the server. But the content type of a resource loaded from the
filesystem depends on its filename extension and how your JVM is
configured.</p><div class="admonition note"><div><div class="icon">ⓘ</div><div class="body"><header><div class="title">MIME type, media type, or content type?</div></header><div><p>Yes. To quote from the Wikipedia article on
<a href="https://en.wikipedia.org/wiki/Media_type" class="link">media types</a>:</p><blockquote class="blockquote"><p>The <a href="https://en.wikipedia.org/wiki/IANA" class="link">IANA</a> and
<a href="https://en.wikipedia.org/wiki/IETF" class="link">IETF</a>
use the term “media type”, and consider the term "MIME type" to be obsolete,
since media types have become used in contexts unrelated to email, such as HTTP.
By contrast, the <a href="https://en.wikipedia.org/wiki/WHATWG" class="link">WHATWG</a>
continues to use the term “MIME type” and discourages
use of the term “media type” as ambiguous, since it is used with a different
meaning in connection with the CSS <code class="literal">@media</code> feature.</p><p>The HTTP response header for providing the media type is <code class="literal">Content-Type</code>.
The W3C has used <code class="literal">ContentType</code> as an XML data-type name for a media type.
<a href="https://en.wikipedia.org/wiki/Freedesktop.org" class="link">XDG</a>
specifications implemented by Linux desktop environments continue to use the term “MIME type”.
</p></blockquote><p>Following the lead of W3C with respect to XML, XProc consistently uses the
term “content type”. In this user guide
the term “MIME type” is used where that’s consistent with what the JVM documentation uses.</p></div></div></div></div><p>When the JVM starts, it looks for a file named
“<code class="filename">.mime.types</code>” in the users’s home directory<sup id="content-types_para2_footnote1-fref" class="footnote-number"><a href="#content-types_para2_footnote1-fnote">1</a></sup>. If it finds one, it uses it to build a
mapping from filename extensions to MIME types. The
<code class="filename">.mime.types</code> file is a text file where each line consists of
a MIME type followed by a space separated list of filename extensions. For
example:</p><div class="pre-wrap programlisting-wrap" db-startinglinenumber="1" db-numberoflines="11"><pre class="language-none long numbered programlisting verbatim verblines"><span class="line" db-line="1"><span class="ln"> 1 <span class="nsep">|</span></span><span class="ld"><code># MIME type mapping (Likes that start with “#” are comments.)</code></span></span>
<span class="line" db-line="2"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/json json</code></span></span>
<span class="line" db-line="3"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/nvdl+xml nvdl</code></span></span>
<span class="line" db-line="4"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/relax-ng-compact-syntax rnc</code></span></span>
<span class="line" db-line="5"><span class="ln"> 5 <span class="nsep">|</span></span><span class="ld"><code>application/relax-ng+xml rng</code></span></span>
<span class="line" db-line="6"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/schematron+xml sch</code></span></span>
<span class="line" db-line="7"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>text/plain text txt css</code></span></span>
<span class="line" db-line="8"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/xml xml xpl fo</code></span></span>
<span class="line" db-line="9"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/xquery xq xqy</code></span></span>
<span class="line" db-line="10"><span class="ln">10 <span class="nsep">|</span></span><span class="ld"><code>application/xsd+xml xsd</code></span></span>
<span class="line" db-line="11"><span class="ln">   <span class="nsep">|</span></span><span class="ld"><code>application/xslt+xml xsl xslt</code></span></span>
</pre></div><p>For XML Calabash, you can also <a href="cc-mimetype.html" class="link">define them</a>
in the <a href="configuration.html" class="link">configuration file</a>.</p><p>If there is no MIME type defined for a particular extension, it will be
identified as an “application/octet-stream” resource. That’s binary.
It is very explicitly not XML or HTML or JSON or text. Most steps will reject
binary resources. This will result in errors that might be very confusing if
you’re not aware of the problem. To avoid that, XML Calabash takes a
heavy-handed approach.</p><p>After the MIME types have been configured, from the system, from the
user’s <code class="filename">.mime.types</code> file, and from the configuration file,
if any of the extensions listed in <a href="#mimedef" class="xref xref-table">Table <span class="label">1<span class="sep">.</span>1</span>, “Default MIME type mappings”</a> are identified as “application/octet-stream”
resources, XML Calabash defines a pragmatically more useful default.</p><div id="mimedef" class="formalobject table"><header><div class="title">Table <span class="label">1<span class="sep">.</span>1</span><span class="sep">. </span>Default MIME type mappings</div></header><table><colgroup><col style="width: 14%"/><col style="width: 86%"/></colgroup><thead><tr><th>Extension</th><th>Default MIME type</th></tr></thead><tbody><tr><td>css</td><td>text/plain</td></tr><tr><td>fo</td><td>application/xml</td></tr><tr><td>json</td><td>application/json</td></tr><tr><td>nvdl</td><td>application/nvdl+xml</td></tr><tr><td>rnc</td><td>application/relax-ng-compact-syntax</td></tr><tr><td>rng</td><td>application/relax-ng+xml</td></tr><tr><td>sch</td><td>application/schematron+xml</td></tr><tr><td>text</td><td>text/plain</td></tr><tr><td>txt</td><td>text/plain</td></tr><tr><td>xml</td><td>application/xml</td></tr><tr><td>xpl</td><td>application/xml</td></tr><tr><td>xq</td><td>application/xquery</td></tr><tr><td>xqy</td><td>application/xquery</td></tr><tr><td>xsd</td><td>application/xsd+xml</td></tr><tr><td>xsl</td><td>application/xslt+xml</td></tr><tr><td>xslt</td><td>application/xslt+xml</td></tr></tbody></table></div><p>If these defaults are problematic, use one of the existing configuration mechanisms
to define the mapping you prefer.</p><p>Also, if you have a different convention, perhaps using the extension
“<code class="literal">.schematron</code>” for Schematron files or “<code class="literal">.xs</code>” for
XML Schema documents, you will have to provide that mapping yourself. You will also
want to provide mappings for other extensions you use.</p></section></section></section><footer><div class="footnotes"><hr/><div class="footnote" id="content-types_para2_footnote1-fnote"><div class="footnote-number"><sup class="footnote-number"><a href="#content-types_para2_footnote1-fref">1</a></sup></div><div class="footnote-body"><p>It
looks in some
<a href="https://docs.oracle.com/javase/8/docs/api/javax/activation/MimetypesFileTypeMap.html" class="link">other
places</a> too, but those are not easily
user-configurable.</p></div></div></div></footer></main><nav class="bottom"><table><tr><td class="previous"><a href="preface.html">Prev</a></td><td class="up"><a href="index.html">Up</a></td><td class="next"><a href="running.html">Next</a></td></tr><tr><td class="previous">Preface</td><td class="up"><a href="index.html">Home</a></td><td class="next">Chapter <span class="label">2</span><span class="sep">. </span>Running XML Calabash</td></tr></table><nav class="tocopen"></nav><nav class="toc"></nav><!-- Hide ToC details from user agents that don’t support JS --><script type="text/html" class="tocopen"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDklEQVQ4je2UUW3EMAyGv0wDUAhlkDBIyuAYXCEclEJoGZRBUgYOgzJoGHgPW6o7rWq35+2TIkWW9duW7N+oKuM46jiOGGMAaNsW5xzee5xzn8EvRESXZUFEWNcVAFWl73v6vjcGUIAYIyEEANZ1RUSY55lSCo/HA4BhGGiahtvthnOOtm0BSCnRdd1eVAGNMeoR27aptVattbpt22FOjFGrzjsX1I7q/4q3y4xf8i/4FwT3Pcw5Y4zBWvujfQMopZBzJuf8XbCeVyWEgHOO+/2+x0SEaZpIKSEih0X2Wz6jdlxKuezaqL7qpZS0lLKbw/M4ANba3RyapiGE8OJGqOrpizGq916999VATvM/AGFn1sxsVjL5AAAAAElFTkSuQmCC" alt="[toc]"/></script><script type="text/html" class="toc"><header><span>Table of Contents</span><span class="close"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAtklEQVQ4jaWT0Q3DIAxEz52AEbyB2cDZhBEY3SNcPyqqBEwqpZaQAHNP5jBCEiJCPAiSIgAeiUe8zoveO9x9e9jd0XtfKwHA1hpHtNY49rO8u59zn4mqMiJSyFkcEVTVFQCAtdYFMotrrXN111JnyA/xCsggN2JeXmGEmaGU8l2XUmBm29fZuh0RW2PTK2SGZcamADPb3nmGmNkKOI7j1rAzJG2kcWhqkstQ1QX+/2ciKU/FJOUN6JFZYWpmK3sAAAAASUVORK5CYII=" alt="X"/></span><p class="ptoc-search"><input class="ptoc-search" placeholder="Search" style="width: 80%"/></p></header><div db-persistent-toc="persistent-toc.html" db-prefix="">Loading…</div></script></nav></body></html>